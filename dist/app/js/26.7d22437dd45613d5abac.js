webpackJsonp([26],{QlWu:function(t,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s={name:"login",data:function(){return{account:"",password:"",showkeybord:!1}},created:function(){localStorage.user_twap&&this.$router.replace("/")},methods:{loginpass:function(){var t=this;this.$com.checkPhone(this.account)?""==this.password?this.$com.showtoast("请输入密码"):(this.$com.showtoast("登录中..."),this.$api.Login(this.account,this.password).then(function(o){1==o.code?(t.$com.showtoast("登录成功"),localStorage.user_twap=o.data.userinfo.token,setTimeout(function(){var o=decodeURIComponent(t.$route.query.redirect||"/");console.log(o),t.$router.push(o)},2e3)):t.$com.showtoast(o.msg)})):this.$com.showtoast("请输入正确的手机号")},accountinput:function(){this.account=this.account.replace(/^\d+\.\d$/g,"")},gocode:function(){this.$router.push({path:"/logincode",query:{redirect:this.$route.query.redirect||"/"}})}}},e={render:function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"login_box"},[a("div",{staticClass:"login_head",on:{click:function(o){return t.$router.go(-1)}}},[a("div",{staticClass:"iconfont iconguanbi-copy"})]),t._v(" "),a("div",{staticClass:"login_title"},[t._v("登录托亚克")]),t._v(" "),a("form",{staticClass:"loginform"},[a("van-field",{attrs:{maxlength:"11",placeholder:"请输入您的账号",readonly:"",clickable:"",clearable:"",type:"text"},on:{input:t.accountinput},nativeOn:{touchstart:function(o){o.stopPropagation(),t.showkeybord=!0}},model:{value:t.account,callback:function(o){t.account="string"==typeof o?o.trim():o},expression:"account"}}),t._v(" "),a("van-field",{attrs:{placeholder:"请输入您的密码",type:"password",maxlength:"12",clearable:"",autocomplete:""},model:{value:t.password,callback:function(o){t.password=o},expression:"password"}}),t._v(" "),a("div",{staticClass:"btns van-row--flex van-row--justify-space-between"},[a("span",{on:{click:t.gocode}},[t._v("验证码登录")]),t._v(" "),a("router-link",{attrs:{tag:"span",to:"/forgotpass"}},[t._v("忘记密码?")])],1),t._v(" "),a("div",{staticClass:"login_btn",attrs:{type:"info"},on:{click:t.loginpass}},[t._v("登录")]),t._v(" "),a("div",{staticClass:"tips"},[a("span",[t._v("还没有账号，")]),t._v(" "),a("router-link",{staticClass:"reg",attrs:{to:"/reg",tag:"span"}},[t._v("去注册")]),t._v(" "),a("span",{staticClass:"iconfont iconjiantou"})],1)],1),t._v(" "),a("van-number-keyboard",{attrs:{show:t.showkeybord,maxlength:11},on:{blur:function(o){t.showkeybord=!1}},model:{value:t.account,callback:function(o){t.account=o},expression:"account"}})],1)},staticRenderFns:[]};var n=a("VU/8")(s,e,!1,function(t){a("U9k8")},"data-v-55b234e2",null);o.default=n.exports},U9k8:function(t,o){}});
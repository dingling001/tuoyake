webpackJsonp([8],{"4j1h":function(t,i){},iv6e:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={name:"club",data:function(){return{clist:[{name:"全部",id:""}],clublist:[],ind:0,page:0,keyword:"",city:"",category_id:"",isUpLoading:!1,isDownLoading:!1,finished:!1,offset:0,finishedtext:"到底了"}},created:function(){this._Category()},watch:{city:{handler:function(t){this.city=t,console.log(this.city),this._ClubIndex()},immediate:!0}},methods:{_Category:function(){var t=this;this.$api.Category().then(function(i){1==i.code&&(t.clist=t.clist.concat(i.data))})},_ClubIndex:function(){var t=this,i=this.page+1;this.$com.showtoast("加载中…","","",1e3,"",!1,!0),this.$api.ClubIndex(i,this.category_id,this.keyword,this.city).then(function(i){1==i.code&&(t.clublist.length?(t.isUpLoading&&(t.clublist=t.clublist.concat(i.data.data),t.$nextTick(function(){t.isUpLoading=!1}),i.data.data.length<10&&(t.finished=!0,t.finishedtext="到底了")),t.isDownLoading&&(t.isDownLoading=!1,t.clublist=i.data.data,t.finished&&(t.finished=!1))):(console.log(i),t.clublist=i.data.data,t.finishedtext="到底了"))})},onRefresh:function(){var t=this;setTimeout(function(){t.$com.showtoast("刷新成功"),t.isDownLoading=!1,t.clublist=[],t.page=0,t._ClubIndex()},500)},onLoad:function(){this.page++,this.isUpLoading=!0,this._ClubIndex()},activeList:function(t,i){this.page=0,this.ind=t,this.category_id=i,this.clublist=[],this._ClubIndex()},godetail:function(t){this.$router.push({path:"/clubdetail",query:{club_id:t}})}}},a={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"jbox"},[s("div",{staticClass:"jnav"},t._l(t.clist,function(i,n){return s("span",{key:i.id,class:{activespan:t.ind==n},on:{click:function(s){return t.activeList(n,i.id)}}},[t._v(t._s(i.name))])}),0),t._v(" "),t.clublist.length?s("van-pull-refresh",{staticClass:"jlist",on:{refresh:t.onRefresh},model:{value:t.isDownLoading,callback:function(i){t.isDownLoading=i},expression:"isDownLoading"}},[s("van-list",{staticClass:"jlist",attrs:{finished:t.finished,offset:t.offset,"finished-text":t.finishedtext},on:{load:t.onLoad},model:{value:t.isUpLoading,callback:function(i){t.isUpLoading=i},expression:"isUpLoading"}},t._l(t.clublist,function(i,n){return s("div",{key:i.category_id,staticClass:"jitem van-row--flex",on:{click:function(s){return t.godetail(i.category_id)}}},[s("div",{staticClass:"jimg"},[s("img",{attrs:{src:i.image,alt:""}})]),t._v(" "),s("div",{staticClass:"jright"},[s("div",{staticClass:"jname van-ellipsis"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"jinfo"},[s("span",{staticClass:"name"},[t._v(t._s(i.contact))]),s("span",{staticClass:"tel"},[t._v(t._s(i.contact_number))])]),t._v(" "),s("div",{staticClass:"jaddress van-ellipsis"},[t._v(t._s(i.address))])])])}),0)],1):s("NoData",{attrs:{top:140}})],1)},staticRenderFns:[]};var e=s("VU/8")(n,a,!1,function(t){s("4j1h")},"data-v-f976afd6",null);i.default=e.exports}});
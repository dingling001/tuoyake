webpackJsonp([27],{o053:function(t,s){},xog9:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});i("v2ns");var a=i("F3EI"),n={name:"competitiondetail",data:function(){return{id:"",comdata:{goods:[],info:{album_images:[],star:0,is_collection:0},match:[]},swiperOption:{pagination:".swiper-pagination",observers:!0,observeParents:!0,spaceBetween:10,loop:!0,autoplay:3e3},show:!1,index:0,is_share:0,showshare:!1,togshare:!1,flaggoods:!1}},components:{swiper:a.swiper,swiperSlide:a.swiperSlide},created:function(){this.$route.query.id?(this.id=this.$route.query.id,this._GetBarInfo()):this.$router.replace("/"),this.is_share=this.$route.query.is_share;var t=navigator.userAgent.toLowerCase();this.showshare="micromessenger"==t.match(/MicroMessenger/i)},methods:{_GetBarInfo:function(){var t=this;this.$api.GetBarInfo(this.id).then(function(s){t.flaggoods=!0,1==s.code&&(t.comdata=s.data)})},goimg:function(){this.$router.push({path:"/imgPre",query:{id:this.id}})},gotaocandetail:function(t){this.$router.push({path:"/taocan",query:{goods_id:t,cid:this.id}})},gossdetail:function(t){this.$router.push({path:"/gamedetail",query:{match_id:t,cid:this.id}})},goallgame:function(){this.$router.push({path:"/allgame",query:{bar_id:this.id}})},backlist:function(){1==this.is_share?this.$router.push("/competition"):this.$router.go(-1)},onChange:function(t){this.index=t},clllection:function(){var t=this;this.$api.SetCollection(1,this.comdata.info.id).then(function(s){1==s.code&&(1==s.data.is_collection?(t.$com.showtoast("收藏成功"),t.comdata.info.is_collection=1):(t.$com.showtoast("取消收藏"),t.comdata.info.is_collection=0))})},gomap:function(t){window.location.href="//uri.amap.com/marker?position="+this.comdata.info.lng+","+this.comdata.info.lat+"&name="+this.comdata.info.name+"&src="+this.comdata.info.address+"&coordinate=gaode&callnative=1"}}},o={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"combox"},[i("div",{staticClass:"swiperbox"},[t.comdata.info.album_images[0]?i("van-image",{attrs:{height:"238px",fit:"cover",src:t.comdata.info.album_images[0]}}):t._e(),t._v(" "),i("van-sticky",{attrs:{offset:0}},[i("div",{staticClass:"navbox"},[i("span",{staticClass:"iconfont iconfanhui",on:{click:t.backlist}}),t._v(" "),i("div",{staticClass:"comnanme van-ellipsis"},[t._v(t._s(t.comdata.info.name))]),t._v(" "),i("div",{staticClass:"nright"},[i("i",{class:["iconfont",0==t.comdata.info.is_collection?"iconstar":"iconstar-fill"],on:{click:t.clllection}}),t._v(" "),t.showshare?i("span",{staticClass:"iconfont iconfenxiang",on:{click:function(s){t.togshare=!0}}}):t._e()])])]),t._v(" "),t.comdata.info.album_images.length>0?i("div",{staticClass:"album",on:{click:t.goimg}},[i("span",{staticClass:"iconfont iconimage"}),t._v(" "),i("span",[t._v(t._s(t.comdata.info.album_images.length))])]):t._e()],1),t._v(" "),i("div",{staticClass:"comitem"},[i("div",{staticClass:"comnanme"},[t._v(t._s(t.comdata.info.name))]),t._v(" "),i("div",{staticClass:"starbox"},[t._l(Number(t.comdata.info.star),function(t){return i("div",{staticClass:"iconfont iconstar-fill star"})}),t._v(" "),t._l(5-Number(t.comdata.info.star),function(s){return Number(t.comdata.info.star)<5?i("div",{staticClass:"iconfont iconstar-fill"}):t._e()})],2),t._v(" "),i("div",{staticClass:"comaddress"},[i("div",{staticClass:"adressitem",on:{click:function(s){return t.gomap(t.comdata.info)}}},[i("span",{staticClass:"iconfont icondingweiweizhi"}),t._v(" "),i("div",{staticClass:"address"},[t._v(t._s(t.comdata.info.address)+"\n                        "),i("div",{staticClass:"juli"},[t._v("距您 "+t._s(t.comdata.info.distance))])])]),t._v(" "),i("a",{staticClass:"phonecall",attrs:{href:"tel:"+t.comdata.info.contact_number}},[i("span",{staticClass:"iconfont iconphone-fill"})])]),t._v(" "),i("div",{staticClass:"hr"}),t._v(" "),t.flaggoods?t._e():i("div",{staticClass:"comlist van-row--flex van-cell--center van-row--justify-center"},[i("van-loading",{attrs:{type:"spinner"}})],1),t._v(" "),t.comdata.goods.length?i("div",{staticClass:"comlist"},[t._m(0),t._v(" "),t._l(t.comdata.goods,function(s,a){return i("div",{key:s.id,staticClass:"jitem van-row--flex",on:{click:function(i){return t.gotaocandetail(s.id)}}},[i("div",{staticClass:"jimg"},[i("van-image",{attrs:{height:"16.533vw",width:"16.533vw",fit:"cover",src:s.image}})],1),t._v(" "),i("div",{staticClass:"jright"},[i("div",{staticClass:"jname van-ellipsis"},[t._v(t._s(s.name))]),t._v(" "),i("div",{staticClass:"jaddress van-ellipsis",domProps:{innerHTML:t._s(s.content)}}),t._v(" "),i("div",{staticClass:"price"},[t._v("￥"+t._s(s.price))])]),t._v(" "),i("div",{staticClass:"jbtn"},[t._v("抢购")])])})],2):t._e(),t._v(" "),i("div",{staticClass:"hr"}),t._v(" "),t.flaggoods?t._e():i("div",{staticClass:"comlist van-row--flex van-cell--center van-row--justify-center"},[i("van-loading",{attrs:{type:"spinner"}})],1),t._v(" "),t.comdata.match.length?i("div",{staticClass:"comlist"},[i("div",{staticClass:"taocan"},[t._m(1),t._v(" "),i("div",{staticClass:"all",on:{click:t.goallgame}},[t._v("全部 "),i("span",{staticClass:"iconfont iconjiantou"})])]),t._v(" "),t._l(t.comdata.match,function(s,a){return i("div",{key:s.id,staticClass:"jitem van-row--flex",on:{click:function(i){return t.gossdetail(s.id)}}},[i("div",{staticClass:"jimg"},[i("van-image",{attrs:{height:"16.533vw",width:"16.533vw",fit:"cover",src:s.image}}),t._v(" "),1==s.recommend?i("span",[t._v("精选")]):t._e()],1),t._v(" "),i("div",{staticClass:"jright"},[i("div",{staticClass:"jname van-ellipsis"},[t._v(t._s(s.league_name))]),t._v(" "),i("div",{staticClass:"jaddress van-ellipsis"},[i("span",{staticClass:"iconfont icontime-circle"}),t._v(t._s(s.start_time)+"\n                            ~ "+t._s(s.end_time)+"\n                        ")]),t._v(" "),i("div",{staticClass:"jaddress van-ellipsis",domProps:{innerHTML:t._s(s.synopsis)}})]),t._v(" "),i("div",{staticClass:"jbtn s_jbtn"},[t._v("报名")])])})],2):t._e()]),t._v(" "),i("van-overlay",{attrs:{show:t.togshare,"z-index":500},on:{click:function(s){t.togshare=!1}}},[i("div",{staticClass:"text"},[t._v("点击右上角分享到朋友圈")])])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"taocan"},[s("div",{staticClass:"spanbox"},[s("span",{staticClass:"span"},[this._v("惠")]),this._v(" "),s("span",[this._v("套餐")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"spanbox"},[s("span",{staticClass:"span"},[this._v("赛")]),s("span",[this._v("赛事")])])}]};var e=i("VU/8")(n,o,!1,function(t){i("o053")},"data-v-5e8bc0c8",null);s.default=e.exports}});
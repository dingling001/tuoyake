webpackJsonp([42],{RsFp:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={name:"gamedetail",data:function(){return{matchinfo:{video:[]},match_id:"",is_app:0,showmatch:!1,showshare:!1,togshare:!1}},created:function(){this.$route.query.match_id?(this.cid=this.$route.query.cid,this.match_id=this.$route.query.match_id,this._GetMatchInfo()):this.$router.replace("/"),this.is_app=this.$route.query.is_app?this.$route.query.is_app:0;var t=navigator.userAgent.toLowerCase();this.showshare="micromessenger"==t.match(/MicroMessenger/i)},methods:{_GetMatchInfo:function(){var t=this;this.$api.GetMatchInfo(this.match_id).then(function(i){t.showmatch=!0,1==i.code?t.matchinfo=i.data:(t.$com.showtoast(i.msg),setTimeout(function(){t.$router.go(-1)},1e3))})},clllection:function(){var t=this;this.$api.SetCollection(2,this.match_id).then(function(i){1==i.code&&(1==i.data.is_collection?(t.$com.showtoast("收藏成功"),t.matchinfo.is_collection=1):(t.$com.showtoast("取消收藏"),t.matchinfo.is_collection=0))})},backlist:function(){1==this.is_app?this.$router.push({path:"/competitiondetail",query:{id:this.cid}}):this.$router.go(-1)},govdetail:function(t){this.$router.push({path:"/videodetail",query:{video_id:t}})},allvideo:function(){this.$router.push({path:"/videolist",query:{match_id:this.match_id}})},goapp:function(){this.$router.push({path:"/download"})},s_to_hs:function(t){var i;return i=Math.floor(t/60),t%=60,t+="",(i=1==(i+="").length?"0"+i:i)+":"+(t=1==t.length?"0"+t:t)}}},n={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"gdbox"},[s("div",{staticClass:"swiperbox"},[s("van-image",{attrs:{width:"100%",height:"213px",fit:"cover",src:t.matchinfo.image}}),t._v(" "),s("van-sticky",{attrs:{offset:0}},[s("div",{staticClass:"navbox"},[0==t.is_app?s("span",{staticClass:"iconfont iconfanhui",on:{click:t.backlist}}):s("router-link",{staticClass:"iconfont iconshouyex",attrs:{to:"/"}}),t._v(" "),s("div",{staticClass:"comnanme van-ellipsis"},[t._v(t._s(t.matchinfo.name))]),t._v(" "),s("div",{staticClass:"nright"},[s("span",{class:["iconfont",1==t.matchinfo.is_collection?"iconstar-fill":"iconstar"],on:{click:t.clllection}}),t._v(" "),t.showshare?s("span",{staticClass:"iconfont iconfenxiang",on:{click:function(i){t.togshare=!0}}}):t._e()])],1)])],1),t._v(" "),t.showmatch?t._e():s("div",{staticClass:"comitem van-row--flex van-cell--center van-row--justify-center"},[s("van-loading",{attrs:{type:"spinner"}})],1),t._v(" "),t.showmatch&&Object.keys(t.matchinfo).length?s("div",{staticClass:"comitem"},[s("div",{staticClass:"comnanme"},[t._v(t._s(t.matchinfo.name))]),t._v(" "),s("div",{staticClass:"machdes",domProps:{innerHTML:t._s(t.matchinfo.content)}}),t._v(" "),t.matchinfo.video.length?s("div",{staticClass:"comlist"},[s("div",{staticClass:"taocan"},[t._m(0),t._v(" "),t.matchinfo.video.length>1?s("div",{staticClass:"all",on:{click:t.allvideo}},[t._v("全部 "),s("span",{staticClass:"iconfont iconjiantou"})]):t._e()]),t._v(" "),t._l(t.matchinfo.video,function(i,a){return s("div",{key:i.id,staticClass:"jitem van-row--flex",on:{click:function(s){return t.govdetail(i.id)}}},[s("div",{staticClass:"jimg"},[s("van-image",{attrs:{width:"110px",height:"68px",fit:"cover",src:i.poster}}),t._v(" "),s("span",[t._v(t._s(t.s_to_hs(i.duration)))])],1),t._v(" "),s("div",{staticClass:"jright"},[s("div",{staticClass:"jname van-ellipsis"},[t._v(t._s(i.name))]),t._v(" "),s("div",{staticClass:"jaddress van-ellipsis"},[s("span",{staticClass:"iconfont icontime-circle"}),t._v("\n                        "+t._s(i.create_time)+"\n                    ")]),t._v(" "),s("div",{staticClass:"synopsis van-ellipsis"},[t._v(t._s(i.synopsis))])])])})],2):t._e()]):t._e(),t._v(" "),s("van-overlay",{attrs:{show:t.togshare,"z-index":500},on:{click:function(i){t.togshare=!1}}},[s("div",{staticClass:"text"},[t._v("点击右上角分享到朋友圈")])]),t._v(" "),1==t.is_app?s("initapp"):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"spanbox"},[i("span",[this._v("赛事视频")])])}]};var o=s("VU/8")(a,n,!1,function(t){s("dYDT")},"data-v-2c2f15b0",null);i.default=o.exports},dYDT:function(t,i){}});
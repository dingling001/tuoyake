webpackJsonp([16],{"3K9l":function(t,s){},Fr7f:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o={name:"taocan",data:function(){return{goodinfo:{star:0,rules:[],is_collection:0},cid:"",goods_id:"",num:1,is_app:0,togshare:!1,showshare:!1}},created:function(){this.$route.query.goods_id?(this.cid=this.$route.query.cid,this.goods_id=this.$route.query.goods_id,this._GetGoodsInfo()):this.$router.replace("/"),this.is_app=this.$route.query.is_app?this.$route.query.is_app:0;var t=navigator.userAgent.toLowerCase();this.showshare="micromessenger"==t.match(/MicroMessenger/i)},methods:{_GetGoodsInfo:function(){var t=this;this.$api.GetGoodsInfo(this.goods_id).then(function(s){1==s.code&&(t.goodinfo=s.data)})},backlist:function(){1==this.is_app?this.$router.push({path:"/competitiondetail",query:{id:this.cid}}):this.$router.go(-1)},clllection:function(){var t=this;this.$api.SetCollection(4,this.goods_id).then(function(s){1==s.code&&(1==s.data.is_collection?(t.$com.showtoast("收藏成功"),t.goodinfo.is_collection=1):(t.$com.showtoast("取消收藏"),t.goodinfo.is_collection=0))})},plus:function(){this.num+=1},nminus:function(){this.num>1&&(this.num-=1)},goapp:function(){this.$router.push("/download")}}},n={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"tcbox"},[i("div",{staticClass:"swiperbox"},[i("van-image",{attrs:{width:"100%",height:"75.2vw",fit:"cover",src:t.goodinfo.image}}),t._v(" "),i("van-sticky",{attrs:{"offset-top":0}},[i("div",{staticClass:"navbox"},[0==t.is_app?i("span",{staticClass:"iconfont iconfanhui",on:{click:t.backlist}}):i("router-link",{staticClass:"iconfont iconshouyex",attrs:{to:"/"}}),t._v(" "),i("div",{staticClass:"comnanme van-ellipsis"},[t._v(t._s(t.goodinfo.name))]),t._v(" "),i("div",{staticClass:"nright"},[i("span",{class:["iconfont",0==t.goodinfo.is_collection?"iconstar":"iconstar-fill"],on:{click:t.clllection}}),t._v(" "),t.showshare?i("span",{staticClass:"iconfont iconfenxiang",on:{click:function(s){t.togshare=!0}}}):t._e()])],1)])],1),t._v(" "),i("div",{staticClass:"comitem"},[i("div",{staticClass:"comnanme"},[t._v(t._s(t.goodinfo.name))]),t._v(" "),i("div",{staticClass:"comaddress"},[i("div",{staticClass:"adressitem"},[i("div",{staticClass:"address"},[t._v(t._s(t.goodinfo.bar_name))]),t._v(" "),i("div",{staticClass:"starbox"},[t._l(Number(t.goodinfo.star),function(t){return i("div",{staticClass:"iconfont iconstar-fill star"})}),t._v(" "),t._l(5-Number(t.goodinfo.star),function(s){return Number(t.goodinfo.star)<5?i("div",{staticClass:"iconfont iconstar-fill"}):t._e()})],2)])]),t._v(" "),i("div",{staticClass:"hr"}),t._v(" "),i("div",{staticClass:"taocaninfo"},[i("div",{staticClass:"tancantitle"},[t._v("套餐内容")]),t._v(" "),i("div",{staticClass:"taocannum"},[i("div",{staticClass:"taocandes"},[t._v(t._s(t.goodinfo.content))]),t._v(" "),i("div",{staticClass:"numbox"},[i("span",{class:["iconfont iconminus-circle",t.num<=1?"disicon":""],on:{click:t.nminus}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.num,expression:"num",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.num},on:{input:function(s){s.target.composing||(t.num=t._n(s.target.value))},blur:function(s){return t.$forceUpdate()}}}),t._v(" "),i("span",{staticClass:"iconfont iconplus-circle",on:{click:t.plus}})])]),t._v(" "),i("div",{staticClass:"price"},[i("span",[t._v("单价")]),t._v(t._s(t.goodinfo.price)+"元")])]),t._v(" "),i("div",{staticClass:"hr"}),t._v(" "),t.goodinfo.rules.length?i("div",{staticClass:"taocaninfo"},[i("div",{staticClass:"tancantitle"},[t._v("使用规则")]),t._v(" "),i("ul",{staticClass:"rules"},t._l(t.goodinfo.rules,function(s,o){return i("li",{key:o},[i("span",{staticClass:"ruletitle"},[t._v(t._s(s.name))]),i("span",[t._v(t._s(s.value))])])}),0)]):t._e(),t._v(" "),i("div",{staticClass:"btnbox"},[t.goodinfo.price?i("div",{staticClass:"taocan_btn",on:{click:t.goapp}},[t._v("￥"+t._s(parseFloat(t.goodinfo.price*t.num).toFixed(2))+" 立即抢购")]):t._e()])]),t._v(" "),i("van-overlay",{attrs:{show:t.togshare,"z-index":500},on:{click:function(s){t.togshare=!1}}},[i("div",{staticClass:"text"},[t._v("点击右上角分享到朋友圈")])])],1)},staticRenderFns:[]};var a=i("VU/8")(o,n,!1,function(t){i("3K9l")},"data-v-b64d31ac",null);s.default=a.exports}});
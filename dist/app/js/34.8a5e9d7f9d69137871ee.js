webpackJsonp([34],{QlWu:function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a={name:"login",data:function(){return{account:"",password:""}},created:function(){localStorage.user_twap&&this.$router.replace("/")},methods:{loginpass:function(){var t=this;this.$com.checkPhone(this.account)?""==this.password?this.$com.showtoast("请输入密码"):(this.$com.showtoast("登录中..."),this.$api.Login(this.account,this.password).then(function(o){1==o.code?(t.$com.showtoast("登录成功"),localStorage.user_twap=o.data.userinfo.token,setTimeout(function(){var o=decodeURIComponent(t.$route.query.redirect||"/");console.log(o),t.$router.push(o)},2e3)):t.$com.showtoast(o.msg)})):this.$com.showtoast("请输入正确的手机号")},accountinput:function(){this.account=this.account.replace(/[^\d]/g,"")},gocode:function(){this.$router.push({path:"/logincode",query:{redirect:this.$route.query.redirect||"/"}})}}},e={render:function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"login_box"},[s("div",{staticClass:"login_head",on:{click:function(o){return t.$router.go(-1)}}},[s("div",{staticClass:"iconfont iconguanbi-copy"})]),t._v(" "),s("div",{staticClass:"login_title"},[t._v("登录托亚克")]),t._v(" "),s("form",{staticClass:"loginform"},[s("van-field",{attrs:{maxlength:"11",type:"number",placeholder:"请输入您的账号",clearable:""},on:{input:t.accountinput},model:{value:t.account,callback:function(o){t.account=o},expression:"account"}}),t._v(" "),s("van-field",{attrs:{placeholder:"请输入您的密码",type:"password",clearable:"",autocomplete:""},model:{value:t.password,callback:function(o){t.password=o},expression:"password"}}),t._v(" "),s("div",{staticClass:"btns van-row--flex van-row--justify-space-between"},[s("span",{on:{click:t.gocode}},[t._v("验证码登录")]),t._v(" "),s("router-link",{attrs:{tag:"span",to:"/forgotpass"}},[t._v("忘记密码?")])],1),t._v(" "),s("div",{staticClass:"login_btn",attrs:{type:"info"},on:{click:t.loginpass}},[t._v("登录")]),t._v(" "),s("div",{staticClass:"tips"},[s("span",[t._v("还没有账号，")]),t._v(" "),s("router-link",{staticClass:"reg",attrs:{to:"/reg",tag:"span"}},[t._v("去注册")]),t._v(" "),s("span",{staticClass:"iconfont iconjiantou"})],1)],1)])},staticRenderFns:[]};var n=s("VU/8")(a,e,!1,function(t){s("WgGL")},"data-v-3a39673b",null);o.default=n.exports},WgGL:function(t,o){}});